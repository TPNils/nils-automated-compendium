<div class="dice-tooltip">
  {{#each terms as |term|}}
    {{#if this.results}}
    <section class="tooltip-part">
      <div class="dice">
        <header class="part-header flexrow">
          <span class="part-formula">{{this.expression}}</span>
          {{#if this.flavor}}<span class="part-flavor">{{this.flavor}}</span>{{/if}}
          <span class="part-total">{{this.total}}</span>
        </header>
        <ol class="dice-rolls">
        {{#each this.results}}
          <li class="roll die d{{term.faces}}{{#if this.success}} success{{/if}}{{#if this.failure}} failure{{/if}}{{#if this.rerolled}} rerolled{{/if}}{{#if this.exploded}} exploded{{/if}}{{#if this.discarded}} discarded{{/if}}{{#if (eq this.result term.faces)}} max{{/if}}{{#if (eq this.result 1)}} min{{/if}}">
            <span class="result">{{this.result}}</span>
          </li>
        {{/each}}
        </ol>
      </div>
    </section>
    {{/if}}
  {{/each}}
</div>
